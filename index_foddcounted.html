<!DOCTYPE html>
<html>


<head>
	<title>FOOD COUNT</title>
	<script src="./js/require.js" type="text/javascript"></script>
	<script   src="https://code.jquery.com/jquery-2.2.4.min.js"   integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="   crossorigin="anonymous"></script>
	<script type="text/javascript">




    // var beef_data = (function() {
    //     var dataList = [];
    //     $.ajax({
    //         'async': false,
    //         'global': false,
    //         'url': "data/beef.json",
    //         'dataType': "json",
    //         'success': function (data) {
    //             for(var i=0; i<data.length;i++){
		  //   		dataList.push(data[i]["Artist"]);
				// }
    //         }
    //     });
    //     return dataList;
    // })();

    function importData(json_file_name){
    	var dataList = [];
        $.ajax({
            'async': false,
            'global': false,
            'url': "data/"+json_file_name,
            'dataType': "json",
            'success': function (data) {
                for(var i=0; i<data.length;i++){
		    		dataList.push(data[i]["Artist"]);
				}
            }
        });
        return dataList;
    }


  //   function createArtistList(data) {
  //   	var dataList = [];
  //   	for(var i=0; i<data.length;i++){
  //   		dataList.push(data[i]["Artist"]);
		// }
		// return dataList;
  //   }
	
	// var butter_artistList = createArtistList(butter_data);
	// var ramen_artistList = createArtistList(ramen_data);
	// var beef_artistList = createArtistList(beef_data);

	// var butter_num = butter_data.length;
	// var butter_artistList = [];
	// for(var i=0; i<butter_data.length; i++){
	// 	butter_artistList.push(butter_data[i]["Artist"]);
	// }

	function countInArray(array,name){
		var count =0;
		for(var j=0; j<array.length; j++){
			if(array[j]== name){
				count++;
			}
		}
		return count;
	}

	function countResult(array,tag){

		//filtering duplicated array object
		arrayUnique = array.filter(function(elem,index,self){
			return index == self.indexOf(elem);
		});
		console.log(array);
		for(var i=0;i<arrayUnique.length;i++){
			var artistCount = countInArray(array,arrayUnique[i]);
			// $(tag).append("<h1></h1>")
			// $(tag).append(array.length);
			$(tag).append("<br>"+arrayUnique[i]+": "+artistCount);
			// console.log(arrayUnique[i]+": "+artistCount);
		}
	}

	// var butter_artistUnique = butter_artistList.filter(function(elem,index,self){
	// 	return index == self.indexOf(elem);
	// })




	// for(var i=0;i<butter_artistUnique.length;i++){
	// 	var artistCount = countInArray(butter_artistList,butter_artistUnique[i]);
	// 	console.log(butter_artistUnique[i]+": "+artistCount);
	// }

	// console.log(butter_artistList);

	var salad_data = importData("salad.json");
    var soup_data = importData("soup.json");
    var caviar_data = importData("caviar.json");
    var cheddar_data = importData("cheddar_cheese.json");
    var sushi_data = importData("sushi.json");
    var oyster_data = importData("oyster.json");

    var ramen_data = importData("ramen.json");
    var steak_data = importData("steak.json");
    var pizza_data = importData("pizza.json");
    var pasta_data = importData("pasta.json");
    var fried_rice_data = importData("fried_rice.json");
    var spaghetti_data = importData("spaghetti.json");
    var shrimp_data = importData("shrimp.json");
    var chicken_data = importData("chicken.json");

    function addAppetizerKey(data){
    	for(var i=0;i<data.length;i++){
    		data[i].dishType = "appetizer";
    	}
    }

    function addeEntreeKey(data){
    	for(var i=0;i<data.length;i++){
    		data[i].dishType = "entree";
    	}
    }

    function addDessertKey(data){
    	for(var i=0;i<data.length;i++){
    		data[i].dishType = "dessert";
    	}
    }



    var kanye_west = [];
    var rick_ross = [];
    var trina = [];
    var missy_elliott = [];
    var nicki_minaj = [];
    var lil_wayne = [];
    var eminem = [];
    var jay_z = [];
    var ghostface_killah = [];

	function init(){
		$(".salad").append(salad_data.length);
		countResult(salad_data,".salad");
		$(".ramen").append(ramen_data.length);
		countResult(ramen_data,".ramen");
		$(".soup").append(soup_data.length);
		countResult(soup_data,".soup");
		$(".caviar").append(caviar_data.length);
		countResult(caviar_data,".caviar");
		$(".sushi").append(sushi_data.length);
		countResult(sushi_data,".sushi");
		$(".cheddar").append(cheddar_data.length);
		countResult(cheddar_data,".cheddar");
		$(".oyster").append(oyster_data.length);
		countResult(oyster_data,".oyster");
		$(".steak").append(steak_data.length);
		countResult(steak_data,".steak");
		$(".pizza").append(pizza_data.length);
		countResult(pizza_data,".pizza");
		$(".pasta").append(pasta_data.length);
		countResult(pasta_data,".pasta");
		$(".fried_rice").append(fried_rice_data.length);
		countResult(fried_rice_data,".fried_rice");
		$(".spaghetti").append(spaghetti_data.length);
		countResult(spaghetti_data,".spaghetti");
		$(".shrimp").append(shrimp_data.length);
		countResult(shrimp_data,".shrimp");
		$(".chicken").append(chicken_data.length);
		countResult(chicken_data,".chicken");
	}

	window.addEventListener('load', init);
</script>
</head>


<body>

	<div class="salad"><h1>Salad</h1></div>
	<div class="soup"><h1>Soup</h1></div>
	<div class="caviar"><h1>Caviar</h1></div>
	<div class="cheddar"><h1>Cheddar</h1></div>
	<div class="sushi"><h1>Sushi</h1></div>
	<div class="oyster"><h1>Oyster</h1></div>

	<div class="ramen"><h1>Ramen</h1></div>
	<div class="steak"><h1>Steak</h1></div>
	<div class="pizza"><h1>Pizza</h1></div>
	<div class="pasta"><h1>Pasta</h1></div>
	<div class="fried_rice"><h1>Fried Rice</h1></div>
	<div class="spaghetti"><h1>Spaghetti</h1></div>
	<div class="shrimp"><h1>Shrimp</h1></div>
	<div class="chicken"><h1>Chicken</h1></div>

</body>


</html>